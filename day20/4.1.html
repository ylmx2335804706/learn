<html>
    <head>

    </head>
    <body>
        <div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
        <button id="fade-btn">淡出</button>
        <script>
            var x = 1;
            var btn = document.getElementById("fade-btn");
            var div1 = document.getElementById("fade-obj");
            function countout(){
                div1.style.opacity=x;
                x-=0.01;
                if(div1.style.opacity<=0){
                    clearInterval(flag);
                    btn.disabled = false;
                    btn.innerText = "淡入";
                }
            }
            function countin(){
                div1.style.opacity=x;
                x+=0.01;
                if(div1.style.opacity>=1){
                    clearInterval(flag);
                    btn.disabled = false;
                    btn.innerText = "淡出";
                }
            }
            var aaa = true;
            btn.onclick = function(){
                if(aaa){
                btn.disabled = "ture";
                div1.style.opacity=x;
                flag = setInterval(countout,50);
                aaa = false;
                }
                else{
                    btn.disabled = "ture";
                    div1.style.opacity=x;
                flag = setInterval(countin,50);
                aaa = ture;
                }
            }
 
        </script>
    </body>
</html>